

#CC “AdoScript” SLEEP ms:2000 #2 sek if needed


SET home_position: "http://10.0.6.41:8080/dobot/api/operation/moveToHomePosition"
SET turn_on: "http://10.0.6.41:8080/dobot/api/operation/turnOnSuctionCup"
SET turn_off: "http://10.0.6.41:8080/dobot/api/operation/turnOffSuctionCup"

#SET move_postion: "http://10.0.6.41:8080/dobot/api/operation/moveToPosition?x=292&y=-96&z=0"


#z is 0 when moving 
#z is -71 when picking up
#z is -20 when dropping off

#calculate: x -> (292 - ((x-1)*27))
#calculate: y -> (-96 + ((y-1)*27))

# destX: ()
# destY: ()

# zDefault: "0"
# zPickup: "-71"
# zDrop: "-20"

# urlMove: "http://10.0.6.41:8080/dobot/api/operation/moveToPosition?"
# urlX: ""
# urlY: ""
# urlZ: ""

# callURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + urlZ)


#-----------------------------------------------------

SET destX: 5
SET destY: 2
SET robotX: (destY)
SET roboY: (destX)
SET urlMove: "http://10.0.6.41:8080/dobot/api/operation/moveToPosition?"
SET urlX: (STR (292 - ((robotX-1)*27)))
SET urlY: (STR (-96 + ((roboY-1)*27)))
SET zDefault: "0"
SET zPickup: "-71"
SET zDrop: "-20"

#SET callURL: ("\"" + urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + urlZ)
SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDefault)
#CC "AdoScript" HTTP_REQUEST (movelURL) 

#CC "AdoScript" INFOBOX (movelURL)

#-----------------------------------------------------

#Reset
# 1) turn_off
# 2) home_position

#1) CC "AdoScript" HTTP_REQUEST (turn_off) 
#CC "AdoScript" INFOBOX (turn_off)
#2) CC "AdoScript" HTTP_REQUEST (home_position) 
#CC "AdoScript" INFOBOX (home_position)

#-----------------------------------------------------

#Select piece
# 1) (drop selected piece, if one was selected)
# 2) home_position
# 3) move_position (x+y)
# 4) zPickup (z)
# 5) turn_on
# 6) move_position (z)



#1) CC "AdoScript" HTTP_REQUEST (turn_off)
#2) CC "AdoScript" HTTP_REQUEST (home_position)
#CC "AdoScript" INFOBOX (home_position) 
#3)SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDefault)
#3) CC "AdoScript" HTTP_REQUEST (movelURL) 
#CC "AdoScript" INFOBOX (movelURL)
#4) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zPickup)
#4) CC "AdoScript" HTTP_REQUEST (movelURL) 
#CC "AdoScript" INFOBOX (movelURL)
#5) CC "AdoScript" HTTP_REQUEST (turn_on)
#CC "AdoScript" INFOBOX (turn_on) 
#6) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDefault)
#6) CC "AdoScript" HTTP_REQUEST (movelURL)
#CC "AdoScript" INFOBOX (movelURL)

#-----------------------------------------------------

#Move piece
# 1) move_position (x+y)
# 2) zDrop (z)
# 3) turn_off
# 4) zDefault (z)

#1) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDefault)
#1) CC "AdoScript" HTTP_REQUEST (movelURL)
#2) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDrop)
#2) CC "AdoScript" HTTP_REQUEST (movelURL)
#3) CC "AdoScript" HTTP_REQUEST (turn_off)
#4) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDefault)
#4) CC "AdoScript" HTTP_REQUEST (movelURL)


#-----------------------------------------------------

#IF move piece captured
# 1) home_position
# 2) move_position (x+y)
# 3) zPickup (z)
# 4) turn_on
# 5) zDefault (z)
# 6) move_position (x+y)
# 7) zDrop (z)
# 8) turn_off

#1) CC "AdoScript" HTTP_REQUEST (home_position)
#CC "AdoScript" INFOBOX (home_position) 
#2)SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDefault)
#2) CC "AdoScript" HTTP_REQUEST (movelURL) 
#CC "AdoScript" INFOBOX (movelURL)
#3) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zPickup)
#3) CC "AdoScript" HTTP_REQUEST (movelURL) 
#CC "AdoScript" INFOBOX (movelURL)
#4) CC "AdoScript" HTTP_REQUEST (turn_on)
#CC "AdoScript" INFOBOX (turn_on) 
#5) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDefault)
#5) CC "AdoScript" HTTP_REQUEST (movelURL)
#CC "AdoScript" INFOBOX (movelURL)
#6) SET destX: -2
#6) SET destY: 5
#6) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDefault)
#6) CC "AdoScript" HTTP_REQUEST (movelURL)
#7) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDrop)
#7) CC "AdoScript" HTTP_REQUEST (movelURL)
#8) CC "AdoScript" HTTP_REQUEST (turn_off)


#-----------------------------------------------------
#selected piece again
# 1) home_position
# 2) move_position (x+y)
# 3) move_postion (z)
# 4) turn_on
# 5) move_position (z)


#1) CC "AdoScript" HTTP_REQUEST (home_position)
#CC "AdoScript" INFOBOX (home_position) 
#2)SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDefault)
#2) CC "AdoScript" HTTP_REQUEST (movelURL) 
#CC "AdoScript" INFOBOX (movelURL)
#3) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zPickup)
#3) CC "AdoScript" HTTP_REQUEST (movelURL) 
#CC "AdoScript" INFOBOX (movelURL)
#4) CC "AdoScript" HTTP_REQUEST (turn_on)
#CC "AdoScript" INFOBOX (turn_on) 
#5) SET movelURL: (urlMove + "x=" + urlX + "&y=" + urlY + "&z=" + zDrop)
#5) CC "AdoScript" HTTP_REQUEST (movelURL)
#CC "AdoScript" INFOBOX (movelURL)

#-----------------------------------------------------


#HTTP_SEND_REQUEST (str_roboturl + "moveToPosition?x=" + STR xPos + "&y=" + STR yPos+"&z=" + STR zPos) str_method:("POST") map_reqheaders:(map_headers) str_reqbody:("") val_respcode:val_httpcode map_respheaders:map_respheaders str_respbody:str_respbody

#SET url:"http://www.pohlw.de/vor_ort/emigration_whs/bauernreg_grk.pdf"
#CC "AdoScript" HTTP_REQUEST (url) 