#Dialog for choosing a model (single) of a certain model type
CC "CoreUI" MODEL_SELECT_BOX modeltype:"all"
#Assignment of the model IDs to a variable
SET selectedmodelid:(VAL modelids)
#Determine wheter a model is loaded (cf. Mulit-User)
#CC "Core" IS_MODEL_LOADED modelid:(selectedmodelid)
#Assignment of the loading state to a variable
#SET wasloaded: (isoloaded)
#Load the model if necessary
#IF (NOT wasloaded){
#    CC "Core" LOAD_MODEL modelid:(selectedmodelid)
#}
CC "Core" LOAD_MODEL modelid:(selectedmodelid)

#Retrieve all objects of the class XXX from the current model
CC "Core" GET_ALL_OBJS_OF_CLASSNAME modelid:(selectedmodelid) classname:"Piece"
SET allpieces_o_id:(objids)
CC "AdoScript" INFOBOX ("pieces " + allpieces_o_id)

CC "Core"  GET_CLASS_ID classname:"Piece"
SET piece_c_id:(classid)
CC "AdoScript" INFOBOX (piece_c_id)

# get the attribute "Name" of the class
CC "Core" GET_ATTR_ID classid:(piece_c_id) attrname:"Name"
SET name_a_id:(attrid)
CC "AdoScript" INFOBOX (name_a_id)

CC "Core" GET_ATTR_VAL objid:(VAL allpieces_o_id) attrid:(name_a_id) attrname:"Name"
SET v_name: (val)
CC "AdoScript" INFOBOX (v_name)

# get the attribute "Status" of the class
CC "Core" GET_ATTR_ID classid:(piece_c_id) attrname:"Status"
SET status_a_id:(attrid)
CC "AdoScript" INFOBOX (status_a_id)

CC "Core" GET_ATTR_VAL objid:(VAL allpieces_o_id) attrid:(status_a_id) attrname:"Status"
SET status_a_val: (val)
CC "AdoScript" INFOBOX (status_a_val)

# set the status of the selected object
CC "Core" debug SET_ATTR_VAL objid:(VAL allpieces_o_id) attrid:(status_a_id) val:"1"


#---------------------------------------------------------------------------


